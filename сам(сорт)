import os

# –°–ª–æ–≤–∞—Ä—å: –ø–∞–ø–∫–∞ -> —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ (–ë–ï–ó —Ç–æ—á–µ–∫!)
Folder = {
    'txt_files': 'txt',   
    'jpg_files': 'jpg',
    'mp3_files': 'mp3'
}

print("üìÅ –°–æ–∑–¥–∞—é –ø–∞–ø–∫–∏ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏...")
for folder_name in Folder.keys():
    if not os.path.exists(folder_name):
        os.mkdir(folder_name)
        print(f"‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞: {folder_name}")
    else:
        print(f"‚ÑπÔ∏è –ü–∞–ø–∫–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {folder_name}")

print("\nüîç –ù–∞—á–∏–Ω–∞—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É —Ñ–∞–π–ª–æ–≤...")
–≤—Å–µ_–æ–±—ä–µ–∫—Ç—ã = os.listdir()

for filename in –≤—Å–µ_–æ–±—ä–µ–∫—Ç—ã:
    if filename in Folder.keys():
        continue
    
    if not os.path.isfile(filename):
        continue
    
    # –ü–†–ê–í–ò–õ–¨–ù–û–ï –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:
    _, extension = os.path.splitext(filename)  # ‚Üê –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–∑–±–∏–≤–∞–µ–º –∫–æ—Ä—Ç–µ–∂
    file_ext = extension[1:]  # '.txt' ‚Üí 'txt'
    
    print(f"\nüìÑ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é —Ñ–∞–π–ª: {filename} (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ: {file_ext})")
    
    target_folder = None
    for folder_name, ext in Folder.items():
        if ext == file_ext:  # 'txt' == 'txt' ‚Üí True!
            target_folder = folder_name
            break
    
    if target_folder:
        new_path = os.path.join(target_folder, filename)
        print(f"‚û°Ô∏è  –ü–µ—Ä–µ–º–µ—â–∞—é –≤: {target_folder}")
        
        try:
            os.rename(filename, new_path)
            print(f"‚úÖ –£—Å–ø–µ—à–Ω–æ!")
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
    else:
        print(f"‚ö†Ô∏è –ù–µ –∑–Ω–∞—é –∫—É–¥–∞ –ø–æ–ª–æ–∂–∏—Ç—å —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º '{file_ext}'")

print("\nüéâ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
